<!DOCTYPE html>
<html>
  <head>
    <title>Garant Mexicana</title>

    <!-- SETTINGS -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="format-detection" content="telephone=no" />

		 <!-- STYLES -->
		<link href="css/include/reset.css" rel="stylesheet" />
		<link href="css/include/grid.css" rel="stylesheet" />
		<link href="css/include/awesome.css" rel="stylesheet" />
		<link href="css/include/animations.css" rel="stylesheet" />
		<link href="css/libs/revolution.css" rel="stylesheet" />
		<link href="css/libs/bslider.css" rel="stylesheet" />
		<link href="css/libs/fancybox.css" rel="stylesheet" />
		<link href="css/main.css" rel="stylesheet" />
    <link href='http://fonts.googleapis.com/css?family=Michroma' rel='stylesheet' type='text/css'>

		<!-- SCRIPTS -->
    <script src="js/include/jquery.js"></script>
		<script src="js/include/respond.js"></script>
		<script src="js/include/retina.js"></script>
		<script src="js/include/jquery-ui.js"></script>
		<script src="js/include/jquery.mobile.js"></script>
		<script src="js/include/browser.js"></script>
		<script src="js/include/scale.js"></script>
		<script src="js/include/quicksand.js"></script>
		<script src="js/libs/plugins.js"></script>
		<script src="js/libs/revolution.js"></script>
		<script src="js/libs/bxslider.js"></script>
		<script src="js/libs/fancybox.js"></script>
		<script src="data:application/octet-stream;base64,KGZ1bmN0aW9uKCQpIHsKCiAgICAvLyBXYWl0IGZvciBET00gdG8gbG9hZAogICAgJChmdW5jdGlvbigpIHsKCiAgICAgICAgJCggImlucHV0W3R5cGU9J2ZpbGUnXSIgKS5jaGFuZ2UoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCQodGhpcykucGFyZW50KCdsYWJlbCcpKTsKICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJ2xhYmVsJykuYWRkQ2xhc3MoJ3dpdGgtZmlsZScpOwogICAgICAgIH0pOwoKICAgICAgICAkKCJhI3JlcXVlc3QiKS5mYW5jeWJveCh7ICdwYWRkaW5nJzogMzAgfSk7CgogICAgICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpOwogICAgICAgIHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTsKICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7CgogICAgICAgIC8qKgogICAgICAgICAqIEBuYW1lc3BhY2UgVXRpbGl0eSBmdW5jdGlvbnMKICAgICAgICAgKiBAbmFtZSAgICAgIHV0aWxzCiAgICAgICAgICovCiAgICAgICAgdmFyIHV0aWxzID0ge307CgogICAgICAgIC8qKgogICAgICAgICAqIEV4ZWN1dGUgY2FsbGJhY2sgYW5kIGFkZCBpdCB0byByZXNpemUgZXZlbnQKICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrCiAgICAgICAgICovCiAgICAgICAgdXRpbHMucmVzaXplID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgJHdpbmRvdy5vbigncmVzaXplJywgY2FsbGJhY2spOwogICAgICAgIH0sCgogICAgICAgIC8qKiBAbmFtZXNwYWNlIE1lZGlhIHF1ZXJpZXMgKi8KICAgICAgICB1dGlscy5sYXlvdXQgPSAoZnVuY3Rpb24oKSB7CgogICAgICAgICAgICAvLyBDYWxsYmFja3MgbGlzdAogICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gW107CgogICAgICAgICAgICAvLyBTdGVwcyBvbiB3aGljaCBjYWxsYmFja3Mgd2lsbCBiZSBjYWxsZWQKICAgICAgICAgICAgdmFyIHN0ZXBzID0gWzMyMCwgNDgwLCA3NjgsIDk4MF07CgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogUm91bmQgd2lkdGggdG8gc3RlcAogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGgKICAgICAgICAgICAgICoKICAgICAgICAgICAgICogQHJldHVybiBTdGVwCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHdpZHRoKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHN0ZXBzLmxlbmd0aDsgbisrKQogICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA8PSBzdGVwc1tuXSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXBzW25dOwogICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIExhc3Qgc3RlcAogICAgICAgICAgICB2YXIgbGFzdCA9IHN0ZXAoJGJvZHkub3V0ZXJXaWR0aCgpKTsKCiAgICAgICAgICAgIC8vIE9uIGVhY2ggc3RlcCBjYWxsIGFsbCBjYWxsYmFja3MKICAgICAgICAgICAgdXRpbHMucmVzaXplKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGVwKCRib2R5Lm91dGVyV2lkdGgoKSk7CiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCAhPSBsYXN0KSB7CiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGN1cnJlbnQ7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBjYWxsYmFja3MubGVuZ3RoOyBuKyspCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tuXShjdXJyZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvKiogQHNjb3BlIHV0aWxzLmxheW91dCAqLwogICAgICAgICAgICByZXR1cm4gewoKICAgICAgICAgICAgICAgIC8qKiBSZXR1cm4gY3VycmVudCBzdGVwICovCiAgICAgICAgICAgICAgICB3aWR0aDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhc3Q7CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICogUmVnaXN0ZXIgY2FsbGJhY2sKICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjawogICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobGFzdCk7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH0pKCk7CgogICAgICAgIC8qKgogICAgICAgICAqIE1lcmdlIG9wdGlvbnMgd2l0aCBkYXRhLWF0dHJpYnV0ZSB2YWx1ZXMKICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSAge09iamVjdHxTdHJpbmd9IGVsZW1lbnQgICAgIEVsZW1lbnQKICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBvcHRpb25zICAgICBEZWZhdWx0IG9wdGlvbnMKICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICBbbmFtZXNwYWNlXSBEYXRhIGF0dHJpYnV0ZXMgcHJlZml4CiAgICAgICAgICoKICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICBNZXJnZWQgb3B0aW9ucwogICAgICAgICAqLwogICAgICAgIHV0aWxzLm9wdGlvbnMgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zLCBuYW1lc3BhY2UpIHsKICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgICAgICAgdmFyIG5hbWVzcGFjZSA9IG5hbWVzcGFjZSA/IG5hbWVzcGFjZSArICdfJyA6ICcnOwogICAgICAgICAgICAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShuYW1lc3BhY2UgKyBuYW1lKTsKICAgICAgICAgICAgICAgIG9wdGlvbnNbbmFtZV0gPSBkYXRhID09PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGRhdGE7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkLmVhY2goJGVsZW1lbnQuZGF0YSgpLCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZihuYW1lc3BhY2UpICE9IC0xKQogICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbbmFtZS5yZXBsYWNlKG5hbWVzcGFjZSwgJycpXSA9IHZhbHVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2hlY2sgdXNlIG9mIGlEZXZpY2UKICAgICAgICAgKgogICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICAgICAqLwogICAgICAgIHV0aWxzLmlEZXZpY2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuICEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQYWR8aVBob25lfGlQb2QpL2cpOwogICAgICAgIH07CgogICAgICAgIC8qKiBAbmFtZXNwYWNlIFVJIGVsZW1lbnRzICovCiAgICAgICAgdmFyIHVpID0ge307CgogICAgICAgIC8qKiBDb250ZW50IHNsaWRlciAqLwogICAgICAgIHVpLnNsaWRlciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKCcudWlfc2xpZGVyJykuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciAkc2xpZGVyID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gdXRpbHMub3B0aW9ucygkc2xpZGVyLCB7CiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFnZXI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHNwZWVkOiAyNTAsCiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2hvcml6b250YWwnLAogICAgICAgICAgICAgICAgICAgIGF1dG86IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b0hvdmVyOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHByZXZUZXh0OiAnJywKICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dDogJycKICAgICAgICAgICAgICAgIH0sICd1aV9zbGlkZXInKTsKICAgICAgICAgICAgICAgICQoJ3VsJywgJHNsaWRlcikuYnhTbGlkZXIob3B0aW9ucyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKiBCdXR0b24gKi8KICAgICAgICB1aS5idXR0b24gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgJGRvY3VtZW50Lm9uKHsKICAgICAgICAgICAgICAgIG1vdXNlZG93bjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnY2xpY2snKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnbW91c2V1cCBtb3VzZWxlYXZlJzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnY2xpY2snKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgJy51aV9idXR0b24nKTsKICAgICAgICB9OwoKICAgICAgICAvKiogU2VsZWN0Ym94ICovCiAgICAgICAgdWkuc2VsZWN0ID0gZnVuY3Rpb24oKSB7CgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogVG9nZ2xlIHNlbGVjdGJveAogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gIHNlbGVjdCAgRWxlbWVudCBvciBzZWxlY3RvcgogICAgICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdGF0ZV0gTmV3IHN0YXRlCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGUoc2VsZWN0LCBzdGF0ZSkgewogICAgICAgICAgICAgICAgdmFyICRzZWxlY3QgPSAkKHNlbGVjdCk7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlID09PSB1bmRlZmluZWQgPyAhJHNlbGVjdC5pcygnLm9wZW4nKSA6IHN0YXRlOwogICAgICAgICAgICAgICAgJHNlbGVjdC50b2dnbGVDbGFzcygnb3BlbicsIHN0YXRlKTsKICAgICAgICAgICAgICAgIHZhciAkbGlzdCA9ICQoJ3VsJywgJHNlbGVjdCk7CgogICAgICAgICAgICAgICAgLy8gT3BlbgogICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgJGxpc3QuYWRkQ2xhc3MoJ3N0b3AnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJGxpc3QuaGVpZ2h0KCk7CiAgICAgICAgICAgICAgICAgICAgJGxpc3QKICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzdG9wJykKICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodChoZWlnaHQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIENsb3NlCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgJGxpc3QKICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzdG9wJykKICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3N0eWxlJykKICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzdG9wJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEluaXRpYWxpemF0aW9uCiAgICAgICAgICAgICQoJy51aV9zZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyICRzZWxlY3QgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgJHNlbGVjdAogICAgICAgICAgICAgICAgICAgIC53aWR0aCgkc2VsZWN0LndpZHRoKCkpCiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCJ1aV9pbml0Iik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkZG9jdW1lbnQub24oewogICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlKHRoaXMsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGFyZ2V0LmNsb3Nlc3QoJ2xpJykuaXMoJy5hY3RpdmUnKSkKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlKHRoaXMpOwoKICAgICAgICAgICAgICAgICAgICAvLyBTZWxlY3Qgb3B0aW9uCiAgICAgICAgICAgICAgICAgICAgaWYgKCR0YXJnZXQuaXMoJ2xpOm5vdCguYWN0aXZlKSAqJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGFyZ2V0LmlzKCdbZGF0YS11aV9zZWxlY3RfdmFsdWVdJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0ID0gJHRhcmdldC5jbG9zZXN0KCdbZGF0YS11aV9zZWxlY3RfdmFsdWVdJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKCdjaGFuZ2UnLCAkdGFyZ2V0LmRhdGEoJ3VpX3NlbGVjdF92YWx1ZScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2xhYmVsJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKCR0YXJnZXQuaHRtbCgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVuZCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmFjdGl2ZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAnLnVpX3NlbGVjdCcpOwogICAgICAgIH07CgogICAgICAgIC8qKiBJdGVtcyBmaWx0ZXIgKi8KICAgICAgICB1aS5maWx0ZXIgPSBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIC8qKiBGaXhlZCBpdGVtcyBwb3NpdGlvbiAqLwogICAgICAgICAgICBmdW5jdGlvbiBmaXgoZmlsdGVyKSB7CiAgICAgICAgICAgICAgICB2YXIgJGxpc3QgPSAkKCcudWlfZmlsdGVyX2l0ZW1zJywgZmlsdGVyKTsKICAgICAgICAgICAgICAgIHZhciAkaXRlbXMgPSAkKCdsaScsICRsaXN0KTsKICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9ICRpdGVtcy5maWx0ZXIoJzp2aXNpYmxlJykuZmlyc3QoKTsKICAgICAgICAgICAgICAgIHZhciAkY2FjaGUgPSAkKGZpbHRlcikuZGF0YSgnY2FjaGUnKTsKICAgICAgICAgICAgICAgICRsaXN0CiAgICAgICAgICAgICAgICAgICAgLmFkZCgkaXRlbXMpCiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3N0eWxlJyk7CiAgICAgICAgICAgICAgICAkaXRlbXMKICAgICAgICAgICAgICAgICAgICAud2lkdGgoJGl0ZW0ud2lkdGgoKSAtIDAuNSkKICAgICAgICAgICAgICAgICAgICAuaGVpZ2h0KCRpdGVtLmhlaWdodCgpKTsKICAgICAgICAgICAgICAgICRjYWNoZQogICAgICAgICAgICAgICAgICAgIC53aWR0aCgkaXRlbS5vdXRlcldpZHRoKCkgLSAwLjUpCiAgICAgICAgICAgICAgICAgICAgLmhlaWdodCgkaXRlbS5vdXRlckhlaWdodCgpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyoqIFJlc2V0IGlubGluZSBzdHlsZXMgKi8KICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXQoZmlsdGVyKSB7CiAgICAgICAgICAgICAgICB2YXIgJGZpbHRlciA9ICQoZmlsdGVyKTsKICAgICAgICAgICAgICAgIHZhciAkaXRlbXMgPSAkKCcudWlfZmlsdGVyX2l0ZW1zJywgZmlsdGVyKTsKICAgICAgICAgICAgICAgICRpdGVtcwogICAgICAgICAgICAgICAgICAgIC5hZGQoJyBsaScsICRpdGVtcykKICAgICAgICAgICAgICAgICAgICAuYWRkKCRmaWx0ZXIuZGF0YSgnY2FjaGUnKSkKICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignc3R5bGUnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyoqIEZpbHRlciBpdGVtcyAqLwogICAgICAgICAgICBmdW5jdGlvbiBmaWx0ZXIoZmlsdGVyLCB2YWx1ZSkgewoKICAgICAgICAgICAgICAgIC8vIEZpbHRlcgogICAgICAgICAgICAgICAgdmFyICRmaWx0ZXIgPSAkKGZpbHRlcikuY2xvc2VzdCgnLnVpX2ZpbHRlcicpOwogICAgICAgICAgICAgICAgdmFyICRjYWNoZSA9ICRmaWx0ZXIuZGF0YSgnY2FjaGUnKTsKICAgICAgICAgICAgICAgIHZhciAkaXRlbXMgPSAkKFtdKTsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAnYWxsJykKICAgICAgICAgICAgICAgICAgICAkaXRlbXMgPSAkY2FjaGU7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgJGNhY2hlLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgndWlfZmlsdGVyX3ZhbHVlJykKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9ICQodGhpcykuZGF0YSgndWlfZmlsdGVyX3ZhbHVlJykuc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh2YWx1ZSwgdmFsdWVzKSAhPSAtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtcyA9ICRpdGVtcy5hZGQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gUmVmcmVzaAogICAgICAgICAgICAgICAgZml4KCRmaWx0ZXIpOwogICAgICAgICAgICAgICAgJGZpbHRlcgogICAgICAgICAgICAgICAgICAgIC5maW5kKCcudWlfZmlsdGVyX2l0ZW1zJykKICAgICAgICAgICAgICAgICAgICAucXVpY2tzYW5kKAogICAgICAgICAgICAgICAgICAgICAgICAkaXRlbXMsCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA3NTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VTY2FsaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0SGVpZ2h0OiAnZHluYW1pYycKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldCgkZmlsdGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEluaXRpYWxpemF0aW9uCiAgICAgICAgICAgICQoJy51aV9maWx0ZXInKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyICRmaWx0ZXIgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgdmFyICRjYWNoZSA9ICQoJ2xpJywgJCgnLnVpX2ZpbHRlcl9pdGVtcycsICRmaWx0ZXIpLmNsb25lKCkpOwogICAgICAgICAgICAgICAgJGZpbHRlci5kYXRhKCdjYWNoZScsICRjYWNoZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkZG9jdW1lbnQub24oJ2NoYW5nZScsICcudWlfZmlsdGVyIC51aV9maWx0ZXJfc3dpdGNoJywgZnVuY3Rpb24oZXZlbnQsIHZhbHVlKSB7CiAgICAgICAgICAgICAgICBmaWx0ZXIodGhpcywgdmFsdWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdXRpbHMucmVzaXplKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgJCgnLnVpX2ZpbHRlcicpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzZXQodGhpcyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqIExpZ2h0Ym94ICovCiAgICAgICAgdWkubGlnaHRib3ggPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCgnLnVpX2xpZ2h0Ym94JykuZmFuY3lib3goKTsKICAgICAgICB9OwoKICAgICAgICAvKiogTWFwIGluaXRpYWxpemF0aW9uICovCiAgICAgICAgdWkubWFwID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyICRtYXBzID0gJCgnLnVpX21hcCcpOwogICAgICAgICAgICBpZiAoISRtYXBzLmxlbmd0aCkKICAgICAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgbWFwCiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXQoJG1hcCkgewoKICAgICAgICAgICAgICAgIC8vIEdldCBtYXAgcG9zaXRpb24KICAgICAgICAgICAgICAgIHZhciBsYXRpdHVkZSA9IHBhcnNlRmxvYXQoU3RyaW5nKCRtYXAuZGF0YSgndWlfbWFwX2xhdGl0dWRlJykpLnJlcGxhY2UoJywnLCAnLicpKTsKICAgICAgICAgICAgICAgIHZhciBsb25ndGl0dWRlID0gcGFyc2VGbG9hdChTdHJpbmcoJG1hcC5kYXRhKCd1aV9tYXBfbG9uZ3RpdHVkZScpKS5yZXBsYWNlKCcsJywgJy4nKSk7CiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdGl0dWRlLCBsb25ndGl0dWRlKTsKCiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgbWFwCiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCgkbWFwWzBdLCB7CiAgICAgICAgICAgICAgICAgICAgem9vbTogJG1hcC5kYXRhKCd1aV9tYXBfem9vbScpIHx8IDE2LAogICAgICAgICAgICAgICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IHBvc2l0aW9uLAogICAgICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsCiAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhbkNvbnRyb2xPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uTEVGVF9DRU5URVIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHpvb21Db250cm9sT3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQ0VOVEVSCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzY2FsZUNvbnRyb2xPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uTEVGVF9DRU5URVIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG1hcFR5cGVDb250cm9sT3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUlkczogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsICd0ZWhncmF5eicKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIENlbnRlciBtYXAgb24gd2luZG93IHJlc2l6ZQogICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAncmVzaXplJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihwb3NpdGlvbik7CiAgICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gQ2VudGVyIG1hcCB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIGJveGVkL2Z1bGwgbGF5b3V0CiAgICAgICAgICAgICAgICB2YXIgJHN3aXRjaGVyID0gJCgnI3N3aXRjaGVyJyk7CiAgICAgICAgICAgICAgICBpZiAoJHN3aXRjaGVyLmxlbmd0aCkKICAgICAgICAgICAgICAgICAgICAkKCcuc3dpdGNoLmxheW91dCcsICRzd2l0Y2hlcikub24oJ3N3aXRjaCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIod2luZG93LCAncmVzaXplJywgbWFwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDM1MCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gR3JheXNjYWxlCiAgICAgICAgICAgICAgICBtYXAubWFwVHlwZXMuc2V0KCdncmF5c2NhbGUnLCBuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZSgKICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVUeXBlOiAiYWxsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiAiYWxsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcnM6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdHVyYXRpb246IC0xMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIkdyYXlzY2FsZSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApKTsKICAgICAgICAgICAgICAgIG1hcC5zZXRNYXBUeXBlSWQoJ2dyYXlzY2FsZScpOwoKICAgICAgICAgICAgICAgIC8vIE1hcCBpcyByZWFkeQogICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXJPbmNlKG1hcCwgJ2lkbGUnLCBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGN1c3RvbSBtYXJrZXIKICAgICAgICAgICAgICAgICAgICAkLmdldFNjcmlwdCgnaHR0cDovL2dvb2dsZS1tYXBzLXV0aWxpdHktbGlicmFyeS12My5nb29nbGVjb2RlLmNvbS9zdm4vdHJ1bmsvcmljaG1hcmtlci9zcmMvcmljaG1hcmtlci1jb21waWxlZC5qcycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmljaE1hcmtlcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3c6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJzxkaXYgY2xhc3M9Im1hcmtlciI+PC9kaXY+JwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8gTG9hZCBBUEkKICAgICAgICAgICAgJC5nZXRTY3JpcHQoJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vanNhcGknLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGdvb2dsZS5sb2FkKCdtYXBzJywgJzMnLCB7b3RoZXJfcGFyYW1zOiAnc2Vuc29yPWZhbHNlJywgY2FsbGJhY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICRtYXBzLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQoJCh0aGlzKSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9fSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKiBJbml0aWFsaXphdGlvbiAqLwogICAgICAgIHVpLmluaXQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdWkuc2xpZGVyKCk7CiAgICAgICAgICAgIHVpLmJ1dHRvbigpOwogICAgICAgICAgICB1aS5zZWxlY3QoKTsKICAgICAgICAgICAgdWkuZmlsdGVyKCk7CiAgICAgICAgICAgIHVpLmxpZ2h0Ym94KCk7CiAgICAgICAgICAgIHVpLm1hcCgpOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIEBuYW1lc3BhY2UgRm9ybXMKICAgICAgICAgKiBAbmFtZSAgICAgIGZvcm1zCiAgICAgICAgICovCiAgICAgICAgdmFyIGZvcm1zID0ge307CgogICAgICAgIC8qKiBJbml0IHBsYWNlaG9sZGVycyhhdHRyaWJ1dGUgZGF0YS1wbGFjZWhvbGRlcikgKi8KICAgICAgICBmb3Jtcy5wbGFjZWhvbGRlcnMgPSBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIC8vIEV2ZW50cwogICAgICAgICAgICAkKGRvY3VtZW50KS5vbih7CiAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCQudHJpbSgkaW5wdXQudmFsKCkpID09ICRpbnB1dC5kYXRhKCdwbGFjZWhvbGRlcicpKQogICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWwoJycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3BsYWNlaG9sZGVyJyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYmx1cjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCEkLnRyaW0oJGlucHV0LnZhbCgpKSkKICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsKCRpbnB1dC5kYXRhKCdwbGFjZWhvbGRlcicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdwbGFjZWhvbGRlcicpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRpbnB1dC52YWwoKSAhPSAkaW5wdXQuZGF0YSgncGxhY2Vob2xkZXInKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PSAyNykKICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbCgnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50cmlnZ2VyKCdrZXl1cCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJpZ2dlcignYmx1cicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAnW2RhdGEtcGxhY2Vob2xkZXJdJyk7CgogICAgICAgICAgICAvLyBWYWx1ZXMKICAgICAgICAgICAgJCgnW2RhdGEtcGxhY2Vob2xkZXJdJykuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJC50cmltKCRpbnB1dC52YWwoKSk7CiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09ICRpbnB1dC5kYXRhKCdwbGFjZWhvbGRlcicpKQogICAgICAgICAgICAgICAgICAgICRpbnB1dAogICAgICAgICAgICAgICAgICAgICAgICAudmFsKCcnKQogICAgICAgICAgICAgICAgICAgICAgICAudHJpZ2dlcignYmx1cicpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKiogQG5hbWVzcGFjZSBGb3JtIHZhbGlkYXRpb24gKi8KICAgICAgICBmb3Jtcy52YWxpZGF0aW9uID0ge307CgogICAgICAgIC8qKgogICAgICAgICAqIEFueSB2YWx1ZQogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfSAgdmFsdWUgSW5wdXQgdmFsdWUKICAgICAgICAgKgogICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgICAgICovCiAgICAgICAgZm9ybXMudmFsaWRhdGlvbi5hbnkgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gISEkLnRyaW0odmFsdWUpLmxlbmd0aDsKICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBFLW1haWwKICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gIHZhbHVlIElucHV0IHZhbHVlCiAgICAgICAgICoKICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICAgICAqLwogICAgICAgIGZvcm1zLnZhbGlkYXRpb24uZW1haWwgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICB2YXIgcGF0dGVybiA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0BcIl0rKFwuW148PigpW1xdXFwuLDs6XHNAXCJdKykqKXwoXCIuK1wiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHZhbHVlKTsKICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBSZWdpc3RlciBmb3JtIGZvciB2YWxpZGF0aW9uIGJlZm9yZSBzdWJtaXQKICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZm9ybSBGb3JtIGVsZW1lbnQgb3Igc2VsZWN0b3IKICAgICAgICAgKi8KICAgICAgICBmb3Jtcy52YWxpZGF0aW9uLnJlZ2lzdGVyID0gZnVuY3Rpb24oZm9ybSkgewogICAgICAgICAgICB2YXIgJGZvcm0gPSAkKGZvcm0pOwogICAgICAgICAgICAkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgJHJlcXVpcmVkID0gJCgnW2RhdGEtcmVxdWlyZV0nLCAkZm9ybSk7CiAgICAgICAgICAgICAgICB2YXIgJGludmFsaWQgPSAkKFtdKTsKICAgICAgICAgICAgICAgICRyZXF1aXJlZAogICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc3RvcCcpCiAgICAgICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAkLnRyaW0oJGlucHV0LnZhbCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSAkaW5wdXQuZGF0YSgncGxhY2Vob2xkZXInKSA/ICcnIDogdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gJC50cmltKCRpbnB1dC5kYXRhKCdyZXF1aXJlJykpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybXMudmFsaWRhdGlvblt0eXBlXSAmJiAhZm9ybXMudmFsaWRhdGlvblt0eXBlXSh2YWx1ZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52YWxpZCA9ICRpbnZhbGlkLmFkZCgkaW5wdXQpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkcmVxdWlyZWQucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTsKICAgICAgICAgICAgICAgICAgICAkaW52YWxpZC5hZGRDbGFzcygnaW52YWxpZCcpOwogICAgICAgICAgICAgICAgICAgICRyZXF1aXJlZC5yZW1vdmVDbGFzcygnc3RvcCcpOwogICAgICAgICAgICAgICAgfSwgMjApOwogICAgICAgICAgICAgICAgcmV0dXJuICEkaW52YWxpZC5sZW5ndGg7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKiBWYWxpZGF0aW9uIGluaXRpYWxpemF0aW9uICovCiAgICAgICAgZm9ybXMudmFsaWRhdGlvbi5pbml0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoJ2Zvcm0nKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKCQoJ1tkYXRhLXJlcXVpcmVdJywgdGhpcykubGVuZ3RoKQogICAgICAgICAgICAgICAgICAgIGZvcm1zLnZhbGlkYXRpb24ucmVnaXN0ZXIodGhpcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGZvcm1zLmluaXQgPSBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIC8vIEluaXQgcGxhY2Vob2xkZXJzCiAgICAgICAgICAgIGZvcm1zLnBsYWNlaG9sZGVycygpOwoKICAgICAgICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uCiAgICAgICAgICAgIGZvcm1zLnZhbGlkYXRpb24uaW5pdCgpOwogICAgICAgIH07CgogICAgICAgIC8qKiBAbmFtZXNwYWNlIENvbW1vbiBmdW5jdGlvbnMgKi8KICAgICAgICB2YXIgY29tbW9uID0ge307CgogICAgICAgIC8qKiBTY3JvbGwgdG8gYW5jaG9yICovCiAgICAgICAgY29tbW9uLmFuY2hvcnMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdjbGljaycsICdbZGF0YS1hbmNob3JdJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgJHRyaWdnZXIgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgdmFyICRhbmNob3IgPSAkKCR0cmlnZ2VyLmRhdGEoJ2FuY2hvcicpKTsKICAgICAgICAgICAgICAgIGlmICgkYW5jaG9yLmxlbmd0aCkKICAgICAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkYW5jaG9yLm9mZnNldCgpLnRvcAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAkdHJpZ2dlci5kYXRhKCdkdXJhdGlvbicpIHx8IDMwMCwKICAgICAgICAgICAgICAgICAgICAgICAgJHRyaWdnZXIuZGF0YSgnZWFzaW5nJykgfHwgJ2xpbmVhcicKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKiogTWFpbiBtZW51ICovCiAgICAgICAgY29tbW9uLm1lbnUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHNwZWVkID0gMzUwOwogICAgICAgICAgICB2YXIgJG1lbnUgPSAkKCcjbWVudScpOwogICAgICAgICAgICAkYm9keS5hdHRyKCdkYXRhLWlkZXZpY2UnLCB1dGlscy5pRGV2aWNlKCkpOwoKICAgICAgICAgICAgLy8gaURldmljZQogICAgICAgICAgICBpZiAodXRpbHMuaURldmljZSgpKSB7CiAgICAgICAgICAgICAgICAkZG9jdW1lbnQub24oJ3ZjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtID0gJChldmVudC50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgICRpdGVtID0gJGl0ZW0uaXMoJy5zdWJtZW51JykgPyAkaXRlbSA6ICRpdGVtLmNsb3Nlc3QoJy5zdWJtZW51Jyk7CiAgICAgICAgICAgICAgICAgICAgJCgnI21lbnUgLm9wZW4nKQogICAgICAgICAgICAgICAgICAgICAgICAubm90KCRpdGVtKQogICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ29wZW4nKTsKICAgICAgICAgICAgICAgICAgICBpZiAoJGl0ZW0uZmlsdGVyKCcjbWVudS5mdWxsID4gbGkgPiB1bCA+IC5zdWJtZW51LCAjbWVudS5zaHJpbmsgPiAuc3VibWVudScpLmxlbmd0aCkKICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW0udG9nZ2xlQ2xhc3MoJ29wZW4nKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdXRpbHMucmVzaXplKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNtZW51IC5vcGVuJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBPdGhlcnMKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhbmltYXRlKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW0gPSAkKGl0ZW0pOwogICAgICAgICAgICAgICAgICAgICRpdGVtLmFkZENsYXNzKCdhbmltYXRlJyk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKTsKICAgICAgICAgICAgICAgICAgICB9LCAkYm9keS5pcygnLnN0b3AnKSA/IDAgOiAyNTApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRkb2N1bWVudC5vbih7CgogICAgICAgICAgICAgICAgICAgIC8vIFNsaWRlIGRvd24KICAgICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRzdWJtZW51ID0gJCgnPiB1bCcsIHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAkc3VibWVudS5hZGRDbGFzcygnc3RvcCcpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJHN1Ym1lbnUuaGVpZ2h0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRzdWJtZW51CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3N0b3AnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhlaWdodChoZWlnaHQpOwogICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKHRoaXMpOwogICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgIC8vIFNsaWRlIHVwCiAgICAgICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJz4gdWwnLCB0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzdG9wJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3N0b3AnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmlzKCcuY3VycmVudC1tZW51LWl0ZW0nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGUodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgJyNtZW51LmZ1bGwgPiBsaSA+IHVsID4gLnN1Ym1lbnUsICNtZW51LnNocmluayA+IC5zdWJtZW51Jyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFN3aXRjaCBiZXR3ZWVuIGZ1bGwgYW5kIHNocmlua2VkIG1lbnUKICAgICAgICAgICAgdmFyIGhlaWdodCA9ICQoJz4gbGkgPiB1bCA+IGxpOmVxKDApJywgJG1lbnUpLmhlaWdodCgpOwogICAgICAgICAgICB1dGlscy5yZXNpemUoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAkbWVudQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdmdWxsJykKICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAkbWVudS5oZWlnaHQoKSA8IGhlaWdodCAqIDIgPyAnZnVsbCcgOiAnc2hyaW5rJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKiBAbmFtZXNwYWNlIEhvbWUgcGFnZSAqLwogICAgICAgIHZhciBob21lID0ge307CgogICAgICAgIC8qKiBJbml0aWFsaXplIHNsaWRlciAqLwogICAgICAgIGhvbWUuc2xpZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciAkc2xpZGVyID0gJCgnI3NsaWRlcicpOwogICAgICAgICAgICBpZiAoISRzbGlkZXIubGVuZ3RoIHx8ICEkKCcjc2xpZGVyIGxpJykubGVuZ3RoKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoJC5mbi5jc3NPcmlnaW5hbCE9dW5kZWZpbmVkKQogICAgICAgICAgICAgICAgJC5mbi5jc3MgPSAkLmZuLmNzc09yaWdpbmFsOwoKICAgICAgICAgICAgLy8gSW5pdGlhbGl6YXRpb24KICAgICAgICAgICAgJHNsaWRlcgogICAgICAgICAgICAgICAgLm9uKCdpbml0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFwaSA9ICQoJy5mdWxsd2lkdGhiYW5uZXInLCB0aGlzKS5yZXZvbHV0aW9uKHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDkwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aGVpZ2h0OiAyMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0d2lkdGg6IDk0MCwKICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRodW1iczogMjAwLAogICAgICAgICAgICAgICAgICAgICAgICB0aHVtYldpZHRoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1iSGVpZ2h0OiA1MCwKICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJBbW91bnQ6IDUsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiAnbm9uZScsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25BcnJvd3M6ICd2ZXJ0aWNhbGNlbnRlcmVkJywKICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0eWxlOiAncm91bmQnLAogICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSEFsaWduOiAnY2VudGVyJywKICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblZBbGlnbjogJ2JvdHRvbScsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IT2Zmc2V0OiAwLAogICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVk9mZnNldDogMjAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvbG9BcnJvd0xlZnRIYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgICAgICAgICAgICAgc29sb0Fycm93TGVmdFZhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvbG9BcnJvd0xlZnRIT2Zmc2V0OiAyMCwKICAgICAgICAgICAgICAgICAgICAgICAgc29sb0Fycm93TGVmdFZPZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvbG9BcnJvd1JpZ2h0SGFsaWduOiAncmlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgICBzb2xvQXJyb3dSaWdodFZhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvbG9BcnJvd1JpZ2h0SE9mZnNldDogMjAsCiAgICAgICAgICAgICAgICAgICAgICAgIHNvbG9BcnJvd1JpZ2h0Vk9mZnNldDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hlbmFibGVkOiAnb24nLAogICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyU3RvcDogJ29uJywKICAgICAgICAgICAgICAgICAgICAgICAgbmF2T2Zmc2V0SG9yaXpvbnRhbDogMCwKICAgICAgICAgICAgICAgICAgICAgICAgbmF2T2Zmc2V0VmVydGljYWw6IDIwLAogICAgICAgICAgICAgICAgICAgICAgICBoaWRlQ2FwdGlvbkF0TGltaXQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVBbGxDYXB0aW9uQXRMaWxtaXQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVTbGlkZXJBdExpbWl0OiAwLAogICAgICAgICAgICAgICAgICAgICAgICBzdG9wQXRTbGlkZTogLTEsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BBZnRlckxvb3BzOiAtMSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93OiAwLAogICAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGg6ICdvbicKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAkc2xpZGVyLmRhdGEoJ2FwaScsIGFwaSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRyaWdnZXIoJ2luaXQnKTsKICAgICAgICB9OwoKICAgICAgICAvKiogV29ya3MgbGlzdCAqLwogICAgICAgIGhvbWUud29ya3MgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdjbGljaycsICcjd29ya3MgLml0ZW1zID4gbGkgPiBhJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAhJChldmVudC50YXJnZXQpLmZpbHRlcignLmJ4LXByZXYsIC5ieC1uZXh0JykubGVuZ3RoOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKiogQG5hbWVzcGFjZSBQb3J0Zm9saW8gKi8KICAgICAgICB2YXIgcG9ydGZvbGlvID0ge307CgogICAgICAgIC8qKiBDaGFuZ2UgY29sdW1uIGNvdW50ICovCiAgICAgICAgcG9ydGZvbGlvLmNvbHVtbnMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCgnI3ByZWZhY2UgLmNvbHVtbnMnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIHZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YXIgJGZpbHRlciA9ICQoJ1tkYXRhLXBhZ2U9InBvcnRmb2xpbyJdIC51aV9maWx0ZXInKTsKICAgICAgICAgICAgICAgICQoJy51aV9maWx0ZXJfaXRlbXMgbGknLCAkZmlsdGVyKQogICAgICAgICAgICAgICAgICAgIC5hZGQoJGZpbHRlci5kYXRhKCdjYWNoZScpKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjb2wtMS0nICsgdmFsdWUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKiogQG5hbWVzcGFjZSBCbG9nICovCiAgICAgICAgdmFyIGJsb2cgPSB7fTsKCiAgICAgICAgLyoqIFN5bmNocm9uaXplIHN3aXRjaCBhbmQgc2VsZWN0Ym94ICovCiAgICAgICAgYmxvZy5zeW5jID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciAkc2VsZWN0ID0gJCgnI2Jsb2cgLnVpX3NlbGVjdCcpOwogICAgICAgICAgICB2YXIgJHN3aXRjaGVyID0gJCgnI2Jsb2cgLnVpX3N3aXRjaCcpOwogICAgICAgICAgICB2YXIgc3luYyA9IHRydWU7CiAgICAgICAgICAgICRzZWxlY3Qub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCB2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKHN5bmMpCiAgICAgICAgICAgICAgICAgICAgJCgnW2RhdGEtdWlfc3dpdGNoX3ZhbHVlPSInICsgdmFsdWUgKyAnIl0nLCAkc3dpdGNoZXIpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkc3dpdGNoZXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCB2YWx1ZSkgewogICAgICAgICAgICAgICAgc3luYyA9IGZhbHNlOwogICAgICAgICAgICAgICAgJCgnW2RhdGEtdWlfc2VsZWN0X3ZhbHVlPSInICsgdmFsdWUgKyAnIl0nLCAkc2VsZWN0KS50cmlnZ2VyKCdjbGljaycpCiAgICAgICAgICAgICAgICAkc2VsZWN0LnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgICAgICAgICAgICBzeW5jID0gdHJ1ZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBoZWlnaHQgPSAkKCdsaTplcSgwKScsICRzd2l0Y2hlcikuaGVpZ2h0KCkgKiAyCiAgICAgICAgICAgIHV0aWxzLnJlc2l6ZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICRzd2l0Y2hlci5hZGQoJHNlbGVjdCkuc2hvdygpOwogICAgICAgICAgICAgICAgdmFyIHRlc3QgPSAkc3dpdGNoZXIuaGVpZ2h0KCkgPCBoZWlnaHQ7CiAgICAgICAgICAgICAgICAkc3dpdGNoZXIudG9nZ2xlKHRlc3QpOwogICAgICAgICAgICAgICAgJHNlbGVjdC50b2dnbGUoIXRlc3QpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKiogQG5hbWVzcGFjZSBJbml0aWFsaXphdGlvbiAqLwogICAgICAgIHZhciBpbml0ID0gewogICAgICAgICAgICBjb21tb246IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdWkuaW5pdCgpOwogICAgICAgICAgICAgICAgZm9ybXMuaW5pdCgpOwogICAgICAgICAgICAgICAgY29tbW9uLmFuY2hvcnMoKTsKICAgICAgICAgICAgICAgIGNvbW1vbi5tZW51KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhvbWU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaG9tZS5zbGlkZXIoKTsKICAgICAgICAgICAgICAgIGhvbWUud29ya3MoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9ydGZvbGlvOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHBvcnRmb2xpby5jb2x1bW5zKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJsb2c6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgYmxvZy5zeW5jKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvLyBJbml0aWFsaXphdGlvbgogICAgICAgIGluaXQuY29tbW9uKCk7CiAgICAgICAgdmFyIHBhZ2UgPSAkYm9keS5kYXRhKCdwYWdlJyk7CiAgICAgICAgaWYgKGluaXRbcGFnZV0pCiAgICAgICAgICAgIGluaXRbcGFnZV0oKTsKICAgIH0pOwp9KShqUXVlcnkpOwo="></script>
  </head>
  <body data-page="about" data-boxed="false">

        <!-- LAYOUT -->
        <div id="layout">
          <div id="super-header">
            <a href="tel:8110133938">
              Llámanos: (81)1013-3938
            </a>
            <a href="contact.html" class="ui_button small">
              Cotiza Aquí
            </a>
          </div>
          <!-- HEADER -->
          <div id="header">
            <div class="container">
              <div class="wrapper">
                <!-- LOGO -->
                <div id="logo">
                  <a href="index.html">
                    <img src="img/logo.jpg" alt="" height="75" />
                  </a>
                </div>
                <!-- MAIN MENU -->
                <ul id="menu" class="full">
                  <li class="submenu">
                    <a class="ui_button big white">Menu</a>
                    <ul>
                      <li><a href="index.html">Inicio</a></li>
                      <li class="submenu current-menu-item">
                        <a>Productos y Servicios</a>
                        <ul>
                          <li><a href="conectores.html">Conectores</a></li>
                          <li><a href="habilitado.html">Habilitado</a></li>
                          <li><a href="toron.html">Toron de Presfuerzo</a></li>
                          <li><a href="vigueta.html">Vigueta y Bovedilla</a></li>
                        </ul>
                      </li>
                      <li><a href="proyectos.html">Proyectos</a></li>
                      <li><a href="about.html">Nosotros</a></li>
                      <li><a href="contact.html">Contacto</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <!-- BANNER -->
          <div class="banner ui_preloader">
            <div class="background" style="background-image: url(img/habilitado-banner.jpg);"></div>
          </div>

            <!-- POST -->
            <div id="post">
              <div class="container grid">
                <div class="row">
                  <div class="content">
                    <section id="descripcion">
                      <h1>Habilitado</h1>
                      <p>
                        Es el proceso al cual se somete el acero de
                        refuerzo para generar las piezas de armado según
                        diseño y estructura.
                      </p>
                      <hr>
                      <div class="row">
                        <div class="col-6-12">
                          <iframe width="470" height="324" src="https://www.youtube-nocookie.com/embed/acv2tFjd_lw?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
                        </div>
                        <div class="col-6-12">
                          <h3>¿Cómo funciona?</h3>
                          <p>
                            A través del análisis y despiece de planos
                            estructurales, se habilita la varilla en forma
                            automatizada, obteniendo piezas de calidad y
                            precisión en las medidas, formas y cantidades
                            requeridas, garantizando múltiples beneficios y
                            ahorros importantes.
                          </p>

                          <h3>Beneficios y ventajas</h3>
                          <p>
                            Reducción del tiempo de obra, disminución de costos
                            para eliminar: mermas, mano de obra, renta de
                            maquinaria y equipo, costos de administración y
                            supervisión de obra.  Disminución del área
                            desaprovechable en obra, mayor control en el
                            suministro y costo del material de obra, mayor
                            control de calidad del habilitado, disminución de
                            los inventarios en obra (suministro just in time).
                          </p>

                          <h3>Cotizaciones</h3>
                          <p>
                            Por kilo sobre normativa NMX-C-407
                          </p>
                        </div>
                      </div>

                      <hr>

                      <h2>Productos</h2>
                      <ul class="grid items fade">
                        <li class="col-1-6">
                          <span class="image">
                            <img src="img/habilitado-varilla-recta.jpg" alt=""/>
                          </span>
                          <span class="description">
                            <h4>Varilla recta habilitada</h4>
                          </span>
                        </li>
                        <li class="col-1-6">
                          <span class="image">
                            <img src="img/habilitado-varilla-medida.jpg" alt=""/>
                          </span>
                          <span class="description">
                            <h4>Varilla recta a medida</h4>
                          </span>
                        </li>
                        <li class="col-1-6">
                          <span class="image">
                            <img src="img/habilitado-estribo.jpg" alt=""/>
                          </span>
                          <span class="description">
                            <h4>Estribos de varilla</h4>
                          </span>
                        </li>
                        <li class="col-1-6">
                          <span class="image">
                            <img src="img/habilitado-estribo-alambron.jpg" alt=""/>
                          </span>
                          <span class="description">
                            <h4>Estribos de alambrón</h4>
                          </span>
                        </li>
                        <li class="col-1-6">
                          <span class="image">
                            <img src="img/habilitado-conectores.jpg" alt=""/>
                          </span>
                          <span class="description">
                            <h4>Conectores de varilla</h4>
                          </span>
                        </li>
                        <li class="col-1-6">
                          <span class="image">
                            <img src="img/habilitado-roscado.jpg" alt=""/>
                          </span>
                          <span class="description">
                            <h4>Maquinaria de roscado</h4>
                          </span>
                        </li>
                      </ul>
                      <hr>
                      <h3>Requisitos para cotizar</h3>
                      <p>
                        Para toda cotización se solicita: El archivo con los
                        planos correspondientes, explosión de insumos de acero
                        por medidas, nombre y teléfono del calculista o persona
                        que pueda resolver dudas.
                      </p>

                      <h3>Servicio de Roscado en planta</h3>
                      <p>
                        Elaboración de roscado cónico en varilla para instalación
                        de conectores mecánicos o especiales por medio de un
                        torno estacionario.
                      </p>

                      <h3>Servicio de Roscado en obra</h3>
                      <p>
                        Renta de equipo con operadores certificados para la
                        elaboración de roscado de varilla en obra.
                      </p>
                    </section>
                  </div>
                </div>
              </div>
            </div>

            <!-- CONTACT  -->
        <div id="about" class="highlight">
          <div class="container">
            <center>  <a href="contact.html" class="ui_button big" data-ui_button_type="inverse">Informes y Cotizaciones </a> </center>
          </div>
        </div>


            <!-- FOOTER TOP -->
            <div id="footer_top">
              <ul class="container seamless grid">
                <!-- SOCIAL -->
                <li class="col-10-12 gap">
                </li>
                <!-- LOGO -->
                <li class="col-2-12">
                  <img src="img/logo-footer.jpg" width="75">
                </li>
              </ul>
            </div>

            <!-- FOOTER BOTTOM -->
            <div id="footer_bottom">
              <div class="container grid">
                <ul class="row">
                  <li class="col-1-3">
                    &copy; Copyright 2015
                  </li>
                  <li class="col-2-3 right">
                    <!-- NAVIGATION -->
                    <ul class="navigation">
                      <li><a href="portfolio4.html">Términos y Condiciones</a></li>
                      <li><a href="about.html">Privacidad</a></li>
                      <li><a href="contact.html">Contacto</a></li>
                    </ul>

                    <!-- SOCIAL -->
                    <ul class="follow">
                      <!-- <li><a href="https://twitter.com/DexenEnergy"><i class="icon-twitter"></i></a></li> -->
                      <li><a href="https://www.facebook.com/garant.mx/"><i class="icon-facebook"></i></a></li>
                      <!-- <li><a href="http://www.youtube.com/user/DexenEnergy"><i class="icon-youtube"></i></a></li> -->
                      <li><a href="mailto:yishell@garant.mx"><i class="icon-envelope-alt"></i></a></li>
                      <!-- <li><a href="https://plus.google.com/106179337831992292976" rel="publisher"><i class="icon-google-plus"></i></a></li> -->
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-105353267-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
